<div class="container d-flex justify-content-center align-items-start pt-5">
  <div class="card p-4 shadow-sm" style="width: 100%; max-width: 800px;">
    <app-header></app-header>
  
    <h3 class="fw-bold mb-4 text-center">Prestamos</h3>

    <!-- Filtros -->
    <div class="filter-section mb-4 p-3 rounded shadow-sm">
      <h5 class="fw-bold mb-3">Filtros</h5>
      <div class="row g-2">
        <div class="col-lg-3 col-md-6 mb-2">
          <label for="fechaEntrega" class="form-label">Fecha de Entrega</label>
          <input type="date" id="fechaEntrega" class="form-control" [(ngModel)]="filters.fecha_entrega" (change)="filterRents()">
        </div>
        <div class="col-lg-3 col-md-6 mb-2">
          <label for="fechaDevolucion" class="form-label">Fecha de Devolución</label>
          <input type="date" id="fechaDevolucion" class="form-control" [(ngModel)]="filters.fecha_devolucion" (change)="filterRents()">
        </div>
        <div class="col-lg-3 col-md-6 mb-2">
          <label for="libroID" class="form-label">ID del Libro</label>
          <input type="text" id="libroID" class="form-control" placeholder="Ej. 123" [(ngModel)]="filters.libroID" (input)="filterRents()">
        </div>
        <div class="col-lg-3 col-md-6 mb-2">
          <label for="usuarioID" class="form-label">ID del Usuario</label>
          <input type="text" id="usuarioID" class="form-control" placeholder="Ej. 456" [(ngModel)]="filters.usuarioID" (input)="filterRents()">
        </div>
      </div>
    </div>

    <!-- Lista de libros alquilados -->
    <div class="book-list-scroll mb-3">
      <div *ngFor="let rent of rents">
        <app-see-rents
          title="{{ rent.libro.titulo || 'Libro no disponible'}}"
          user="{{rent.usuario.usuario_nombre + ' ' + rent.usuario.usuario_apellido}}"
          [daysLeft]="rent.daysLeft"
          image="{{ rent.libro.image }}">
        </app-see-rents>
      </div>
    </div>

    <!-- Mensaje si no se encuentran libros -->
    <div *ngIf="rents.length === 0" class="alert alert-warning" role="alert">
      No rented books found.
    </div>

    <!-- Paginación -->
    <app-paginate [page]="page" [pages]="pages" (pageChange)="getRents($event)"></app-paginate>
  </div>
</div>